// standard keyword notation
task hello {

    println "Configuration phase 1"
    description = "Greets user" // show information on "gradle tasks"
    group = "greetings" // group on "gradle tasks"

    doLast {
        println "Hello World in Gradle!"
    }
}

// shortcut for doLast construct
hello << {
    println "Added action with hello <<"
}

// hello is defined now
// add configure block
hello {
    println "Configuration phase 2"

    doLast {
        println "Even more work"
    }
}

// add dynamic generated actions to hello
4.times { number ->
    hello << {
        println "added with <<: $number"
    }
}

// add some task at the beginning
// method call invocation
hello.doFirst {
    println "Gotcha!"
}

// add another action at the beginning
// no surprise here
hello.doFirst {
    println "Gotcha, again!"
}

// create dynamic tasks
3.times {
    task "dynamicTask_$it" {
        println "task $name in Configuration phase 3"
        description = "Im a dynamic Task"
    }
}

task(altHello) << {
    println "Alternative hello"
}

//tasks.add(name: 'nextHello') << {
tasks.create(name: 'nextHello') << {
    println "Next hello"
}

// insert action in between
// does work in gradle 1.5 but not 1.6, 1.7 or 1.8
// fixed in 1.9
//hello.actions.add(1, ({ t ->
//    println "In between"
//} as Action))